<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calendario Spese</title>

    <!-- Materialize CSS -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"
      rel="stylesheet"
    />

    <!-- FullCalendar CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/fullcalendar@3.2.0/dist/fullcalendar.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- Calendario -->
    <div id="calendar"></div>

    <!-- Modale per i dettagli dell'evento -->
    <div id="expense-modal" class="modal">
      <div class="modal-content">
        <h4 id="modal-title">Dettagli Evento</h4>
        <p>
          <strong>Descrizione:</strong> <span id="expense-description"></span>
        </p>
        <p>
          <strong>Tipo di pagamento:</strong> <span id="expense-type"></span>
        </p>
      </div>
      <div class="modal-footer">
        <a href="#!" class="modal-close waves-effect waves-green btn-flat"
          >Chiudi</a
        >
      </div>
    </div>
    <div class="modal-footer">
      <a
        href="#!"
        class="modal-close waves-effect waves-green btn-flat"
        onclick="updateExpense(selectedEvent, 
        document.getElementById('edit-title').value, 
        document.getElementById('edit-start').value, 
        document.getElementById('edit-description').value, 
        document.getElementById('edit-type').value)"
        >Modifica</a
      >
    </div>
    <!-- Modale per aggiungere una spesa o una spesa futura -->
    <div id="expense-modal" class="modal">
      <div class="modal-content">
        <h4>Aggiungi Spesa o Programma Futuro</h4>
        <!-- Form di inserimento -->
        <form id="expense-form">
          <label for="expense-type">Tipo di spesa</label>
          <select id="expense-type">
            <option value="spesa">Spesa</option>
            <option value="programmazione">Programma Futuro</option>
          </select>

          <!-- Sezione spesa -->
          <div id="payment-type-section" class="hidden">
            <label for="payment-type">Metodo di pagamento</label>
            <select id="payment-type">
              <option value="contante">Contante</option>
              <option value="contoCa">Conto Ca</option>
              <option value="contoCh">Conto Ch</option>
            </select>
          </div>

          <!-- Dettagli spesa -->
          <label for="expense-title">Descrizione della spesa</label>
          <input type="text" id="expense-title" required />

          <label for="expense-description">Dettagli aggiuntivi</label>
          <input type="text" id="expense-description" />

          <label for="expense-date">Data della spesa</label>
          <input type="date" id="expense-date" required />

          <div class="modal-footer">
            <a
              href="#!"
              class="modal-close waves-effect waves-green btn-flat"
              onclick="saveExpense()"
              >Salva</a
            >
          </div>
        </form>
      </div>
    </div>

    <!-- Materialize JS -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/moment@2.24.0/moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@3.2.0/dist/fullcalendar.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

    <!-- Script personalizzato -->
    <script src="js/calendar.js"></script>
    <!-- Includi il tuo file JS -->
  </body>
</html>
